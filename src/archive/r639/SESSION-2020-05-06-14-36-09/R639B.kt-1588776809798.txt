fun main() {
    val (n, m) = readLine()!!.split(" ").map { it.toInt() }
    val a = Array(n) { readLine()!!.toCharArray() }
    println(solveMagnet(n, m, a))
}

fun solveMagnet(n: Int, m: Int, a: Array<CharArray>): Int {
    for (i in 0 until n) if (!goodRow(a[i])) return -1
}

fun goodRow(chars: CharArray): Boolean {
    val i = chars.indexOfFirst { it == '#' }
    if (i < 0) return true
    val j = chars.indexOfLast { it == '#' }
    return chars.slice(i..j).all { }
}
